<!doctype html>
<html class="no-js" lang="zxx">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>E-CELL NFSU TC</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">
    <!-- Place favicon.ico in the root directory -->

    <!-- CSS here -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/animate.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">
    <link rel="stylesheet" href="fontawesome/css/all.min.css">
    <link rel="stylesheet" href="fontawesome-pro/css/all.min.css">
    <link rel="stylesheet" href="css/dripicons.css">
    <link rel="stylesheet" href="css/slick.css">
    <link rel="stylesheet" href="css/meanmenu.css">
    <link rel="stylesheet" href="css/swiper.min.css">
    <link rel="stylesheet" href="css/default.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/rounded-corners.css">
    <link rel="stylesheet" href="css/custom-buttons.css">
    <link rel="stylesheet" href="css/premium-navbar.css">
    <link rel="stylesheet" href="css/premium-cards.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/advertisement-popup.css">

    <!-- Supabase -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="js/supabase-manager.js"></script>

    <style>
        .spinner-border {
            width: 3rem;
            height: 3rem;
            border: 0.25em solid currentColor;
            border-right-color: transparent;
            border-radius: 50%;
            animation: spinner-border .75s linear infinite;
        }

        @keyframes spinner-border {
            to {
                transform: rotate(360deg);
            }
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        #loading-indicator {
            color: #007bff;
        }

        .pagination .page-item.active a {
            background-color: #007bff;
            border-color: #007bff;
            color: white;
        }

        .pagination .page-item a {
            color: #007bff;
            text-decoration: none;
            padding: 0.5rem 0.75rem;
            margin: 0 0.125rem;
            border: 1px solid #dee2e6;
            border-radius: 0.25rem;
        }

        .pagination .page-item a:hover {
            background-color: #e9ecef;
            border-color: #dee2e6;
        }
    </style>
</head>

<body>
    <!-- Premium Glassmorphism Navigation Bar -->
    <nav class="premium-navbar" id="premiumNavbar">
        <div class="navbar-content">
            <!-- Logo Section -->
            <a href="index.html" class="navbar-logo">
                <img src="img/logo/elogo.png" alt="E-Cell NFSU" class="logo-image">
                <span class="logo-text">E-Cell</span>
            </a>

            <!-- Navigation Menu -->
            <ul class="navbar-menu" id="navbarMenu">
                <li class="menu-item">
                    <a href="index.html" class="menu-link" data-page="home">
                        <span>Home</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="about.html" class="menu-link" data-page="about">
                        <span>About</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="events.html" class="menu-link" data-page="events">
                        <span>Events</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="team.html" class="menu-link" data-page="team">
                        <span>Team</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="blog.html" class="menu-link active" data-page="blog">
                        <span>Blog</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="contact.html" class="menu-link" data-page="contact">
                        <span>Contact</span>
                    </a>
                </li>
            </ul>

            <!-- CTA Button -->
            <a href="about.html" class="navbar-cta">
                <span>Join E-Cell</span>
                <svg class="cta-icon" viewBox="0 0 16 16" fill="currentColor">
                    <path
                        d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z" />
                </svg>
            </a>

            <!-- Mobile Menu Toggle -->
            <button class="mobile-toggle" id="mobileToggle" aria-label="Toggle navigation menu" aria-expanded="false">
                <span class="toggle-line"></span>
                <span class="toggle-line"></span>
                <span class="toggle-line"></span>
            </button>
        </div>
    </nav>

    <!--  Preloader  -->
    <div id="preloader">
        <div id="loading"> </div>
    </div>
    <!--  Preloader end  -->
    <!-- header -->
    <header class="header-area header mt-20 mb-20">
        <div class="menu-area">
            <div class="container">
                <div class="second-menu">
                    <div class="row align-items-center">
                        <div class="col-xl-2 col-lg-2">
                            <div class="logo">
                                <a href="index.html"><img src="img/logo/elogo.png" alt="logo"></a>
                            </div>
                        </div>
                        <div class="col-xl-8 col-lg-9">

                            <div class="main-menu text-center">
                                <nav id="mobile-menu">
                                    <div class="menu-outer">
                                        <ul>
                                            <li><a href="index.html">Home</a></li>
                                            <li><a href="about.html">About</a></li>
                                            <li><a href="events.html">Events</a></li>
                                            <li><a href="team.html">Team</a></li>
                                            <li><a href="blog.html">Blog</a></li>
                                            <li><a href="contact.html">Contact</a></li>
                                        </ul>
                                    </div>
                                </nav>
                            </div>
                        </div>

                        <div class="col-xl-2 col-lg-3 text-right d-none d-xl-block">
                            <div class="login">
                                <ul>
                                    <li>
                                        <a href="about.html" class="btn3" data-animation="fadeInLeft"
                                            data-delay=".4s">lets talks <i
                                                class="fa-sharp fa-solid fa-arrow-up"></i></a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="mobile-menu"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- header-end -->
    <!-- offcanvas-area -->
    <div class="offcanvas-menu">
        <span class="menu-close"><i class="fas fa-times"></i></span>
        <form role="search" method="get" id="searchform" class="searchform" action="#">
            <input type="text" name="s" id="search" placeholder="Search">
            <button><i class="fa fa-search"></i></button>
        </form>


        <div id="cssmenu3" class="menu-one-page-menu-container">
            <ul class="menu">
                <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="index.html">Home</a></li>
                <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="about.html">About Us</a>
                </li>
                <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="services.html">Services</a>
                </li>
                <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="pricing.html">Pricing </a>
                </li>
                <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="team.html">Team </a></li>

                <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="projects.html">Cases
                        Study</a></li>
                <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="blog.html">Blog</a></li>
                <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="contact.html">Contact</a>
                </li>
            </ul>
        </div>

        <div id="cssmenu2" class="menu-one-page-menu-container">
            <ul id="menu-one-page-menu-12" class="menu">
                <li class="menu-item menu-item-type-custom menu-item-object-custom"><a
                        href="tel:+919999882696"><span>+91 9999882696</span></a></li>
                <li class="menu-item menu-item-type-custom menu-item-object-custom"><a
                        href="mailto:ecell@nfsutc.ac.in"><span>ecell@nfsutc.ac.in</span></a></li>
            </ul>
        </div>
    </div>
    <div class="offcanvas-overly"></div>
    <!-- offcanvas-end -->
    <!-- main-area -->
    <main>

        <!-- search-popup -->
        <div class="modal fade bs-example-modal-lg search-bg popup1" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content search-popup">
                    <div class="text-center">
                        <a href="#" class="close2" data-dismiss="modal" aria-label="Close">× close</a>
                    </div>
                    <div class="row search-outer">
                        <div class="col-md-11"><input type="text" placeholder="Search for products..." /></div>
                        <div class="col-md-1 text-right"><a href="#"><i class="fa fa-search" aria-hidden="true"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /search-popup -->
        <!-- breadcrumb-area -->
        <section class="breadcrumb-area d-flex align-items-center" style="background-image:url(img/bg/bdrc-bg.png)">
            <div class="container">
                <div class="animations-01">
                    <img src="img/bg/cta-ani-img-01.png" alt="img" class="img">
                </div>
                <div class="animations-02">
                    <img src="img/bg/cta-ani-img-03.png" alt="img" class="img">
                </div>
                <div class="row align-items-center">
                    <div class="col-xl-12 col-lg-12">
                        <div class="breadcrumb-wrap text-center">
                            <div class="breadcrumb-title mt-60">
                                <h2>Blog</h2>
                                <div class="breadcrumb-wrap">

                                    <nav aria-label="breadcrumb">
                                        <ol class="breadcrumb">
                                            <li class="breadcrumb-item"><a href="index.html"><i
                                                        class="fa-solid fa-house"></i> Home</a></li>
                                            <li class="breadcrumb-item active" aria-current="page">Blog</li>
                                        </ol>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>
        <!-- breadcrumb-area-end -->
        <!-- inner-blog -->
        <section class="inner-blog pt-120 pb-70">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8">
                        <!-- Loading indicator -->
                        <div id="loading-indicator" class="text-center mb-50">
                            <div class="spinner-border" role="status">
                                <span class="sr-only">Loading...</span>
                            </div>
                            <p class="mt-3">Loading blog posts...</p>
                        </div>

                        <!-- Blog posts container -->
                        <div id="blog-posts-container">
                            <!-- Dynamic blog posts will be loaded here -->
                        </div>

                        <!-- Pagination -->
                        <div class="pagination-wrap mb-50" id="pagination-container" style="display: none;">
                            <nav>
                                <ul class="pagination" id="pagination-list">
                                    <!-- Pagination will be generated dynamically -->
                                </ul>
                            </nav>
                        </div>
                    </div>
                    <div class="col-sm-12 col-md-12 col-lg-4">
                        <aside class="sidebar-widget">
                            <section id="search-3" class="widget widget_search">
                                <h2 class="widget-title">Search</h2>
                                <form role="search" method="get" class="search-form"
                                    onsubmit="return blogManager.searchBlogs(event)">
                                    <label>
                                        <span class="screen-reader-text">Search for:</span>
                                        <input type="search" class="search-field" placeholder="Search blogs..." value=""
                                            name="s" id="blog-search-input" />
                                    </label>
                                    <input type="submit" class="search-submit" value="Search" />
                                </form>
                            </section>
                            <section id="custom_html-5" class="widget_text widget widget_custom_html">
                                <h2 class="widget-title">Follow Us</h2>
                                <div class="textwidget custom-html-widget">
                                    <div class="widget-social">
                                        <a href="https://www.instagram.com/ecell.nfsu.tc?igsh=Ym45bms0eTZwOHFs"
                                            target="_blank" title="Follow us on Instagram"><i
                                                class="fab fa-instagram"></i></a>
                                        <a href="#" target="_blank" title="Connect with us on LinkedIn"><i
                                                class="fab fa-linkedin-in"></i></a>
                                    </div>
                                </div>
                            </section>
                            <section id="recent-posts-4" class="widget widget_recent_entries">
                                <h2 class="widget-title">Recent Posts</h2>
                                <ul id="recent-posts-list">
                                    <!-- Dynamic recent posts will be loaded here -->
                                    <li class="loading-item">
                                        <span>Loading recent posts...</span>
                                    </li>
                                </ul>
                            </section>
                        </aside>
                    </div>
                </div>
            </div>
        </section>
        <!-- inner-blog-end -->
    </main>
    <!-- main-area-end -->

    <!-- footer -->
    <footer class="footer-bg footer-p pt-90 fix"
        style="background-image: url(img/bg/footer-bg.png); background-size: cover; background-repeat:no-repeat;">
        <div class="footer-top pb-70">
            <div class="container f-logo-area">
                <div class="row mb-30">
                    <div class="col-lg-6">
                        <div class="f-widget-title">
                            <img src="img/logo/elogo.png" alt="E-Cell NFSU TC Logo">
                        </div>
                    </div>
                    <div class="col-lg-6 text-right">
                        <div class="footer-social mt-10">
                            <a href="https://www.instagram.com/ecell.nfsu.tc?igsh=Ym45bms0eTZwOHFs" target="_blank"
                                title="Instagram"><i class="fab fa-instagram"></i></a>
                            <a href="#" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row justify-content-between">
                    <!-- About E-Cell Section -->
                    <div class="col-xl-6 col-lg-6 col-sm-12">
                        <div class="footer-widget mb-30">
                            <h3 class="footer-title mb-20">Entrepreneurship Cell</h3>
                            <p class="footer-desc mb-25">
                                National Forensic Sciences University (NFSU TC)
                            </p>
                            <p class="footer-desc mb-25">
                                Empowering students to innovate, build, and lead with responsibility.
                            </p>
                            <div class="footer-contact-info">
                                <div class="contact-item mb-15">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>NFSU TC, VIP Rd, near Buddhamandir, Radha Nagar, Agartala, Tripura
                                        799001</span>
                                </div>
                                <div class="contact-item mb-15">
                                    <i class="fas fa-phone"></i>
                                    <a href="tel:+919999882696">+91 9999882696</a>
                                </div>
                                <div class="contact-item mb-15">
                                    <i class="fas fa-envelope"></i>
                                    <a href="mailto:ecell@nfsutc.ac.in">ecell@nfsutc.ac.in</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Navigation Links -->
                    <div class="col-xl-6 col-lg-6 col-sm-12">
                        <div class="footer-widget mb-30">
                            <div class="footer-link">
                                <div class="row">
                                    <div class="col-md-6">
                                        <ul>
                                            <li><a href="index.html">Home</a></li>
                                            <li><a href="about.html">About Us</a></li>
                                            <li><a href="events.html">Events</a></li>
                                            <li><a href="team.html">Our Team</a></li>
                                        </ul>
                                    </div>
                                    <div class="col-md-6">
                                        <ul>
                                            <li><a href="blog.html">Blog</a></li>
                                            <li><a href="contact.html">Contact</a></li>
                                            <li><a href="about.html">Join E-Cell</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Copyright Section -->
        <div class="copyright-wrap">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-12 text-center">
                        <div class="copyright-text">
                            © Entrepreneurship Cell, NFSU TC. All Rights Reserved.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- footer-end -->

    <script src="js/vendor/jquery-3.7.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/slick.min.js"></script>
    <script src="js/ajax-form.js"></script>
    <script src="js/paroller.js"></script>
    <script src="js/wow.min.js"></script>
    <script src="js/js_isotope.pkgd.min.js"></script>
    <script src="js/imagesloaded.min.js"></script>
    <script src="js/parallax.min.js"></script>
    <script src="js/jquery.waypoints.min.js"></script>
    <script src="js/jquery.counterup.min.js"></script>
    <script src="js/jquery.scrollUp.min.js"></script>
    <script src="js/jquery.meanmenu.min.js"></script>
    <script src="js/parallax-scroll.js"></script>
    <script src="js/swiper.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/element-in-view.js"></script>
    <script src="js/vanilla-tilt.js"></script>
    <script src="js/gsap.min.js"></script>
    <script src="js/ScrollTrigger.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/supabase-client.js"></script>
    <script src="js/advertisement-popup.js"></script>

    <script>
        // Blog page specific functionality
        class BlogPageManager {
            constructor() {
                this.supabaseUrl = "https://khxeesffponvgpgnszpz.supabase.co";
                this.supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtoeGVlc2ZmcG9udmdwZ25zenB6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk2MjQ0OTcsImV4cCI6MjA4NTIwMDQ5N30.Nie54ajcJH6Ll51VBVTablRlZEETYUMOHxogWHbwThY";
                this.client = null;
                this.currentPage = 1;
                this.postsPerPage = 6;
                this.totalPosts = 0;

                this.initClient();
            }

            initClient() {
                if (typeof supabase !== 'undefined') {
                    this.client = window.supabaseManager ?
                        window.supabaseManager.getPublicClient() :
                        supabase.createClient(this.supabaseUrl, this.supabaseKey);
                    console.log('Blog Page Manager initialized');
                    this.loadBlogs();
                    this.loadRecentPosts();
                } else {
                    setTimeout(() => this.initClient(), 100);
                }
            }

            async loadRecentPosts() {
                try {
                    const { data: recentPosts, error } = await this.client
                        .from('blogs')
                        .select('id, title, date')
                        .eq('status', 'published')
                        .order('date', { ascending: false })
                        .limit(5);

                    if (error) throw error;

                    this.renderRecentPosts(recentPosts || []);

                } catch (error) {
                    console.error('Error loading recent posts:', error);
                    this.showRecentPostsError();
                }
            }

            renderRecentPosts(posts) {
                const container = document.getElementById('recent-posts-list');

                if (posts.length === 0) {
                    container.innerHTML = `
                        <li>
                            <span>No recent posts available</span>
                        </li>
                    `;
                    return;
                }

                container.innerHTML = posts.map(post => `
                    <li>
                        <a href="blog-details.html?id=${post.id}">${post.title}</a>
                        <span class="post-date">${this.formatDate(post.date)}</span>
                    </li>
                `).join('');
            }

            showRecentPostsError() {
                const container = document.getElementById('recent-posts-list');
                container.innerHTML = `
                    <li>
                        <span>Unable to load recent posts</span>
                    </li>
                `;
            }

            async loadBlogs(page = 1) {
                try {
                    this.showLoading();

                    // Get total count
                    const { count } = await this.client
                        .from('blogs')
                        .select('*', { count: 'exact', head: true })
                        .eq('status', 'published');

                    this.totalPosts = count || 0;

                    // Get paginated blogs
                    const offset = (page - 1) * this.postsPerPage;
                    const { data: blogs, error } = await this.client
                        .from('blogs')
                        .select('*')
                        .eq('status', 'published')
                        .order('date', { ascending: false })
                        .range(offset, offset + this.postsPerPage - 1);

                    if (error) throw error;

                    this.hideLoading();
                    this.renderBlogs(blogs || []);
                    this.renderPagination();

                } catch (error) {
                    console.error('Error loading blogs:', error);
                    this.hideLoading();
                    this.showError();
                }
            }

            showLoading() {
                document.getElementById('loading-indicator').style.display = 'block';
                document.getElementById('blog-posts-container').style.display = 'none';
            }

            hideLoading() {
                document.getElementById('loading-indicator').style.display = 'none';
                document.getElementById('blog-posts-container').style.display = 'block';
            }

            showError() {
                const container = document.getElementById('blog-posts-container');
                container.innerHTML = `
                    <div class="text-center mb-50">
                        <h3>Unable to load blog posts</h3>
                        <p>Please try again later or check your internet connection.</p>
                        <button class="btn btn-primary" onclick="blogManager.loadBlogs()">Retry</button>
                    </div>
                `;
                container.style.display = 'block';
            }

            renderBlogs(blogs) {
                const container = document.getElementById('blog-posts-container');

                if (blogs.length === 0) {
                    container.innerHTML = `
                        <div class="text-center mb-50">
                            <h3>No blog posts found</h3>
                            <p>Check back later for new content!</p>
                        </div>
                    `;
                    return;
                }

                container.innerHTML = blogs.map(blog => this.generateBlogHTML(blog)).join('');
            }

            generateBlogHTML(blog) {
                const formattedDate = this.formatDate(blog.date);
                const excerpt = this.truncateText(blog.content, 200);
                const defaultImage = 'img/blog/inner_b1.jpg';

                return `
                    <div class="bsingle__post mb-50">
                        <div class="bsingle__post-thumb">
                            <img src="${blog.image || defaultImage}" alt="${blog.title}" onerror="this.src='${defaultImage}'">
                        </div>
                        <div class="bsingle__content">
                            <div class="meta-info">
                                <ul>
                                    <li><i class="fal fa-user"></i>By ${blog.author || 'E-Cell'}</li>
                                    <li><i class="fal fa-calendar-alt"></i> ${formattedDate}</li>
                                </ul>
                            </div>
                            <h2><a href="blog-details.html?id=${blog.id}">${blog.title}</a></h2>
                            <p>${excerpt}</p>
                            <div class="blog__btn">
                                <a href="blog-details.html?id=${blog.id}" class="btn3">Read More <i class="fa-sharp fa-solid fa-arrow-up"></i></a>
                            </div>
                        </div>
                    </div>
                `;
            }

            renderPagination() {
                const totalPages = Math.ceil(this.totalPosts / this.postsPerPage);

                if (totalPages <= 1) {
                    document.getElementById('pagination-container').style.display = 'none';
                    return;
                }

                const paginationList = document.getElementById('pagination-list');
                let paginationHTML = '';

                // Previous button
                if (this.currentPage > 1) {
                    paginationHTML += `<li class="page-item"><a href="#" onclick="blogManager.goToPage(${this.currentPage - 1})"><i class="fas fa-angle-double-left"></i></a></li>`;
                }

                // Page numbers
                const startPage = Math.max(1, this.currentPage - 2);
                const endPage = Math.min(totalPages, this.currentPage + 2);

                if (startPage > 1) {
                    paginationHTML += `<li class="page-item"><a href="#" onclick="blogManager.goToPage(1)">1</a></li>`;
                    if (startPage > 2) {
                        paginationHTML += `<li class="page-item"><a href="#">...</a></li>`;
                    }
                }

                for (let i = startPage; i <= endPage; i++) {
                    const activeClass = i === this.currentPage ? 'active' : '';
                    paginationHTML += `<li class="page-item ${activeClass}"><a href="#" onclick="blogManager.goToPage(${i})">${i}</a></li>`;
                }

                if (endPage < totalPages) {
                    if (endPage < totalPages - 1) {
                        paginationHTML += `<li class="page-item"><a href="#">...</a></li>`;
                    }
                    paginationHTML += `<li class="page-item"><a href="#" onclick="blogManager.goToPage(${totalPages})">${totalPages}</a></li>`;
                }

                // Next button
                if (this.currentPage < totalPages) {
                    paginationHTML += `<li class="page-item"><a href="#" onclick="blogManager.goToPage(${this.currentPage + 1})"><i class="fas fa-angle-double-right"></i></a></li>`;
                }

                paginationList.innerHTML = paginationHTML;
                document.getElementById('pagination-container').style.display = 'block';
            }

            goToPage(page) {
                this.currentPage = page;
                this.loadBlogs(page);
                // Scroll to top of blog section
                document.querySelector('.inner-blog').scrollIntoView({ behavior: 'smooth' });
            }

            formatDate(dateString) {
                const date = new Date(dateString);
                const day = date.getDate();
                const month = date.toLocaleDateString('en-US', { month: 'long' });
                const year = date.getFullYear();

                const suffix = this.getOrdinalSuffix(day);
                return `${day}${suffix} ${month} ${year}`;
            }

            getOrdinalSuffix(day) {
                if (day > 3 && day < 21) return 'th';
                switch (day % 10) {
                    case 1: return 'st';
                    case 2: return 'nd';
                    case 3: return 'rd';
                    default: return 'th';
                }
            }

            truncateText(text, maxLength) {
                if (!text) return '';
                if (text.length <= maxLength) return text;
                return text.substring(0, maxLength).trim() + '...';
            }

            showAllPosts() {
                this.currentPage = 1;
                this.loadBlogs(1);
            }

            searchBlogs(event) {
                event.preventDefault();
                const searchTerm = document.getElementById('blog-search-input').value.trim();

                if (searchTerm.length < 2) {
                    alert('Please enter at least 2 characters to search');
                    return false;
                }

                this.performSearch(searchTerm);
                return false;
            }

            async performSearch(searchTerm) {
                try {
                    this.showLoading();

                    const { data: blogs, error } = await this.client
                        .from('blogs')
                        .select('*')
                        .eq('status', 'published')
                        .or(`title.ilike.%${searchTerm}%,content.ilike.%${searchTerm}%,author.ilike.%${searchTerm}%`)
                        .order('date', { ascending: false });

                    if (error) throw error;

                    this.hideLoading();
                    this.renderBlogs(blogs || []);

                    // Hide pagination for search results
                    document.getElementById('pagination-container').style.display = 'none';

                    // Show search results info
                    this.showSearchInfo(searchTerm, blogs.length);

                } catch (error) {
                    console.error('Error searching blogs:', error);
                    this.hideLoading();
                    this.showError();
                }
            }

            showSearchInfo(searchTerm, resultCount) {
                const container = document.getElementById('blog-posts-container');
                const searchInfo = `
                    <div class="search-results-info mb-30" style="background: #f8f9fa; padding: 15px; border-radius: 5px; border-left: 4px solid #007bff;">
                        <p><strong>Search Results for "${searchTerm}":</strong> Found ${resultCount} post(s)</p>
                        <button onclick="blogManager.clearSearch()" class="btn btn-sm btn-outline-primary">Clear Search</button>
                    </div>
                `;
                container.insertAdjacentHTML('afterbegin', searchInfo);
            }

            clearSearch() {
                document.getElementById('blog-search-input').value = '';
                this.showAllPosts();
            }
        }

        // Initialize blog manager when DOM is ready
        document.addEventListener('DOMContentLoaded', function () {
            window.blogManager = new BlogPageManager();
        });
    </script>

    <!-- Premium Navbar JavaScript -->
    <script src="js/premium-navbar.js"></script>
</body>

</html>