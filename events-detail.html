<!doctype html>
<html class="no-js" lang="zxx">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Event Details - E-Cell Website</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">
    <!-- Place favicon.ico in the root directory -->

    <!-- CSS here -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/animate.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">
    <link rel="stylesheet" href="fontawesome/css/all.min.css">
    <link rel="stylesheet" href="fontawesome-pro/css/all.min.css">
    <link rel="stylesheet" href="css/dripicons.css">
    <link rel="stylesheet" href="css/slick.css">
    <link rel="stylesheet" href="css/meanmenu.css">
    <link rel="stylesheet" href="css/swiper.min.css">
    <link rel="stylesheet" href="css/default.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/advertisement-popup.css">
</head>

<body>
    <!--  Preloader  -->
    <div id="preloader">
        <div id="loading"> </div>
    </div>
    <!--  Preloader end  -->
    <!-- header -->
    <header class="header-area header mt-20 mb-20">
        <div class="menu-area">
            <div class="container">
                <div class="second-menu">
                    <div class="row align-items-center">
                        <div class="col-xl-2 col-lg-2">
                            <div class="logo">
                                <a href="index.html"><img src="img/logo/elogo.png" alt="logo"></a>
                            </div>
                        </div>
                        <div class="col-xl-8 col-lg-9">

                            <div class="main-menu text-center">
                                <nav id="mobile-menu">
                                    <div class="menu-outer">
                                        <ul>
                                            <li><a href="index.html">Home</a></li>
                                            <li><a href="about.html">About</a></li>
                                            <li><a href="events.html">Events</a></li>
                                            <li><a href="team.html">Team</a></li>
                                            <li><a href="blog.html">Blog</a></li>
                                            <li><a href="contact.html">Contact</a></li>
                                        </ul>
                                    </div>
                                </nav>
                            </div>
                        </div>

                        <div class="col-xl-2 col-lg-3 text-right d-none d-xl-block">
                            <div class="login">
                                <ul>
                                    <li>
                                        <a href="about.html" class="btn3" data-animation="fadeInLeft" data-delay=".4s">lets talks <i class="fa-sharp fa-solid fa-arrow-up"></i></a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="mobile-menu"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- header-end -->
    <!-- offcanvas-area -->
    <div class="offcanvas-menu">
        <span class="menu-close"><i class="fas fa-times"></i></span>
        <form role="search" method="get" id="searchform" class="searchform" action="#">
            <input type="text" name="s" id="search" placeholder="Search">
            <button><i class="fa fa-search"></i></button>
        </form>


        <div id="cssmenu3" class="menu-one-page-menu-container">
            <ul class="menu">
                <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="index.html">Home</a></li>
                <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="about.html">About Us</a></li>
                <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="services.html">Services</a></li>
                <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="pricing.html">Pricing </a></li>
                <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="team.html">Team </a></li>

                <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="projects.html">Cases Study</a></li>
                <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="blog.html">Blog</a></li>
                <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="contact.html">Contact</a></li>
            </ul>
        </div>

        <div id="cssmenu2" class="menu-one-page-menu-container">
            <ul id="menu-one-page-menu-12" class="menu">
                <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="tel:+919999882696"><span>+91 9999882696</span></a></li>
                <li class="menu-item menu-item-type-custom menu-item-object-custom"><a href="mailto:ecell@nfsutc.ac.in"><span>ecell@nfsutc.ac.in</span></a></li>
            </ul>
        </div>
    </div>
    <div class="offcanvas-overly"></div>
    <!-- offcanvas-end -->
    <!-- main-area -->
    <main>
        <!-- breadcrumb-area -->
        <section class="breadcrumb-area d-flex align-items-center" style="background-image:url(img/bg/bdrc-bg.png)">
            <div class="container">
                <div class="animations-01">
                    <img src="img/bg/cta-ani-img-01.png" alt="img" class="img">
                </div>
                <div class="animations-02">
                    <img src="img/bg/cta-ani-img-03.png" alt="img" class="img">
                </div>
                <div class="row align-items-center">
                    <div class="col-xl-12 col-lg-12">
                        <div class="breadcrumb-wrap text-center">
                            <div class="breadcrumb-title mt-60">
                                <h2>Event Details</h2>
                                <div class="breadcrumb-wrap">

                                    <nav aria-label="breadcrumb">
                                        <ol class="breadcrumb">
                                            <li class="breadcrumb-item"><a href="index.html"><i class="fa-solid fa-house"></i> Home</a></li>
                                            <li class="breadcrumb-item"><a href="events.html">Events</a></li>
                                            <li class="breadcrumb-item active" aria-current="page">Event Details</li>
                                        </ol>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>
        <!-- breadcrumb-area-end -->
        <!-- Event Detail -->
        <section class="project-detail pt-145 pb-90">
            <div class="container">
                <!-- Lower Content -->
                <div class="lower-content">
                    <div class="row info-column inner-column">
                        <div class="col-lg-4 col-md-4 col-sm-12">
                            <h3>Event Information</h3>
                            <h6 id="eventRating">Rating: <img src="img/bg/star-p.png" alt="img"></h6>
                            <p id="eventDescription">Loading event information...</p>
                        </div>
                        <div class="col-lg-8 col-md-8 col-sm-12">
                            <ul class="project-info clearfix" id="projectInfo">
                                <li><h5>Event Type</h5> <span>Loading...</span></li>
                                <li><h5>Organizer</h5> <span>Loading...</span></li>
                                <li><h5>Category</h5> <span>Loading...</span></li>
                                <li><h5>Date & Time</h5><span>Loading...</span></li>
                                <li><h5>Venue</h5><span>Loading...</span></li>
                                <li><h5>Duration</h5><span>Loading...</span></li>
                            </ul>
                        </div>
                    </div>
                    <div class="row justify-content-center">
                        <div class="col-lg-11">
                            <!-- Upper Content -->
                            <div class="upper-box">
                                <div class="single-item-carousel">
                                    <figure class="image"> 
                                        <img id="eventImage" src="img/bg/projects-detail-img.png" alt="Event Image">
                                    </figure>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row justify-content-center">
                        <div class="text-column col-lg-11 col-md-10 col-sm-12">

                            <div class="inner-column">
                                <h2>Event Overview</h2>
                                <div id="eventOverviewContent">
                                    <p>Loading event overview...</p>
                                    <p>Please wait while we fetch the event details.</p>
                                </div>
                                <h3>What You'll Learn</h3>
                                <div id="learningDescription">
                                    <p>Loading learning information...</p>
                                </div>
                                <div class="row" id="learningPointsContainer">
                                    <div class="col-lg-6">
                                        <ul class="list-style-one" id="learningPointsLeft">
                                            <li>Loading learning points...</li>
                                        </ul>
                                    </div>
                                    <div class="col-lg-6">
                                        <ul class="list-style-one" id="learningPointsRight">
                                            <li>Loading learning points...</li>
                                        </ul>
                                    </div>
                                </div>
                                <h3>Event Schedule</h3>
                                <div id="scheduleDescription">
                                    <p>Loading schedule information...</p>
                                </div>
                                <div class="row" id="scheduleContainer">
                                    <div class="col-lg-6">
                                        <ul class="list-style-one" id="scheduleLeft">
                                            <li>Loading schedule...</li>
                                        </ul>
                                    </div>
                                    <div class="col-lg-6">
                                        <ul class="list-style-one" id="scheduleRight">
                                            <li>Loading schedule...</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <!-- Registration Section -->
                                <div class="row mt-50">
                                    <div class="col-lg-12">
                                        <div class="event-registration-box" id="registrationBox" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 40px; border-radius: 15px; text-align: center; color: white;">
                                            <h3 style="color: white; margin-bottom: 20px;">Ready to Join Us?</h3>
                                            <p style="margin-bottom: 30px; opacity: 0.9;">Don't miss this opportunity to learn from industry experts and network with fellow entrepreneurs. Limited seats available!</p>
                                            <div class="registration-info" id="registrationInfo" style="display: flex; justify-content: space-around; margin-bottom: 30px; flex-wrap: wrap;">
                                                <div style="margin: 10px;">
                                                    <h5 style="color: #ffd700;">Registration Fee</h5>
                                                    <p>Loading pricing...</p>
                                                </div>
                                            </div>
                                            <a href="contact.html" class="btn" style="background: white; color: #667eea; padding: 15px 30px; border-radius: 25px; text-decoration: none; font-weight: bold; display: inline-block;">Register Now</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!--End Event Detail -->

    </main>
    <!-- main-area-end -->
    <!-- footer -->
    <footer class="footer-bg footer-p pt-90 fix" style="background-image: url(img/bg/footer-bg.png); background-size: cover; background-repeat:no-repeat;">
        <div class="footer-top pb-70">
            <div class="container f-logo-area">
                <div class="row mb-30">
                    <div class="col-lg-6">
                        <div class="f-widget-title">
                            <img src="img/logo/elogo.png" alt="E-Cell NFSU Logo">
                        </div>
                    </div>
                    <div class="col-lg-6 text-right">
                        <div class="footer-social mt-10">
                            <a href="#" title="Instagram"><i class="fab fa-instagram"></i></a>
                            <a href="#" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row justify-content-between">
                    <!-- About E-Cell Section -->
                    <div class="col-xl-6 col-lg-6 col-sm-12">
                        <div class="footer-widget mb-30">
                            <h3 class="footer-title mb-20">Entrepreneurship Cell</h3>
                            <p class="footer-desc mb-25">
                                National Forensic Sciences University (NFSU)
                            </p>
                            <p class="footer-desc mb-25">
                                Empowering students to innovate, build, and lead with responsibility.
                            </p>
                            <div class="footer-contact-info">
                                <div class="contact-item mb-15">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>NFSU Campus</span>
                                </div>
                                <div class="contact-item mb-15">
                                    <i class="fas fa-envelope"></i>
                                    <a href="mailto:ecell@nfsutc.ac.in">ecell@nfsutc.ac.in</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Navigation Links -->
                    <div class="col-xl-6 col-lg-6 col-sm-12">
                        <div class="footer-widget mb-30">
                            <h4 class="footer-title mb-20">Quick Links</h4>
                            <div class="footer-link">
                                <div class="row">
                                    <div class="col-md-6">
                                        <ul>
                                            <li><a href="index.html">Home</a></li>
                                            <li><a href="about.html">About Us</a></li>
                                            <li><a href="events.html">Events</a></li>
                                            <li><a href="team.html">Our Team</a></li>
                                        </ul>
                                    </div>
                                    <div class="col-md-6">
                                        <ul>
                                            <li><a href="blog.html">Blog</a></li>
                                            <li><a href="contact.html">Contact</a></li>
                                            <li><a href="about.html">Join E-Cell</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Copyright Section -->
        <div class="copyright-wrap">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-12 text-center">
                        <div class="copyright-text">
                            © Entrepreneurship Cell, NFSU. All Rights Reserved.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- footer-end -->

    <!-- JS here -->

    <script src="js/vendor/jquery-3.7.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/slick.min.js"></script>
    <script src="js/ajax-form.js"></script>
    <script src="js/paroller.js"></script>
    <script src="js/wow.min.js"></script>
    <script src="js/js_isotope.pkgd.min.js"></script>
    <script src="js/imagesloaded.min.js"></script>
    <script src="js/parallax.min.js"></script>
    <script src="js/jquery.waypoints.min.js"></script>
    <script src="js/jquery.counterup.min.js"></script>
    <script src="js/jquery.scrollUp.min.js"></script>
    <script src="js/jquery.meanmenu.min.js"></script>
    <script src="js/parallax-scroll.js"></script>
    <script src="js/swiper.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/element-in-view.js"></script>
    <script src="js/vanilla-tilt.js"></script>
    <script src="js/gsap.min.js"></script>
    <script src="js/ScrollTrigger.min.js"></script>
    <script src="js/main.js"></script>
    
    <!-- Supabase Integration -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/supabase-client.js"></script>
    <script src="js/advertisement-popup.js"></script>
    <script src="js/events-client.js"></script>
    
    <!-- Dynamic Event Details Loading -->
    <script>
    $(document).ready(function() {
        // Add a delay to ensure all scripts are loaded
        setTimeout(() => {
            loadEventDetails();
        }, 1000);
    });

    // Function to load event details from database
    async function loadEventDetails() {
        try {
            const eventId = window.getUrlParameter('id');
            
            if (!eventId) {
                console.log('No event ID provided, showing default content');
                showNoEventId();
                return;
            }

            console.log('Loading event with ID:', eventId);

            // Show loading state
            showLoadingState();

            // Ensure events client is available
            if (!window.eventsClient) {
                console.error('Events client not available, retrying...');
                setTimeout(() => loadEventDetails(), 1000);
                return;
            }

            // Get event details using the events client
            const event = await window.eventsClient.getEventById(eventId);
            console.log('Loaded event data:', event);

            if (!event) {
                console.log('Event not found');
                showEventNotFound();
                return;
            }

            // Update page content with event data
            updateEventDetails(event);

        } catch (error) {
            console.error('Error loading event details:', error);
            showEventNotFound();
        }
    }

    // Function to show loading state
    function showLoadingState() {
        const breadcrumbTitle = document.querySelector('.breadcrumb-title h2');
        if (breadcrumbTitle) {
            breadcrumbTitle.textContent = 'Loading Event...';
        }
    }

    // Function to show no event ID message
    function showNoEventId() {
        const breadcrumbTitle = document.querySelector('.breadcrumb-title h2');
        if (breadcrumbTitle) {
            breadcrumbTitle.textContent = 'No Event Selected';
        }
        
        const mainContent = document.querySelector('.project-detail .container');
        if (mainContent) {
            mainContent.innerHTML = `
                <div class="row justify-content-center">
                    <div class="col-lg-8 text-center">
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle fa-3x mb-3"></i>
                            <h3>No Event Selected</h3>
                            <p>Please select an event from the events page to view its details.</p>
                            <a href="events.html" class="btn btn-primary">Browse Events</a>
                        </div>
                    </div>
                </div>
            `;
        }
    }

    // Function to show event not found message
    function showEventNotFound() {
        const breadcrumbTitle = document.querySelector('.breadcrumb-title h2');
        if (breadcrumbTitle) {
            breadcrumbTitle.textContent = 'Event Not Found';
        }
        
        const mainContent = document.querySelector('.project-detail .container');
        if (mainContent) {
            mainContent.innerHTML = `
                <div class="row justify-content-center">
                    <div class="col-lg-8 text-center">
                        <div class="alert alert-warning">
                            <i class="fas fa-exclamation-triangle fa-3x mb-3"></i>
                            <h3>Event Not Found</h3>
                            <p>The event you're looking for doesn't exist or has been removed.</p>
                            <a href="events.html" class="btn btn-primary">Back to Events</a>
                        </div>
                    </div>
                </div>
            `;
        }
    }

    // Function to update page content with event data
    function updateEventDetails(event) {
        console.log('Starting to update event details with:', event);
        
        // Update page title
        document.title = `${event.title} - E-Cell Website`;
        
        // Update breadcrumb
        const breadcrumbTitle = document.querySelector('.breadcrumb-title h2');
        if (breadcrumbTitle) {
            breadcrumbTitle.textContent = event.title;
            console.log('Updated breadcrumb title');
        } else {
            console.warn('Breadcrumb title element not found');
        }

        // Update all sections with detailed logging
        console.log('Updating event information...');
        updateEventInfo(event);
        
        console.log('Updating event overview...');
        updateEventOverview(event);
        
        console.log('Updating learning points...');
        updateLearningPoints(event);
        
        console.log('Updating event schedule...');
        updateEventSchedule(event);
        
        console.log('Updating registration info...');
        updateRegistrationInfo(event);
        
        console.log('Event details update completed');
    }

    // Function to update event information
    function updateEventInfo(event) {
        console.log('Updating event info section with comprehensive data:', event);
        
        // Update event description
        const eventDesc = document.getElementById('eventDescription');
        if (eventDesc) {
            eventDesc.textContent = event.description || 'No description available.';
            console.log('✓ Updated event description');
        }

        // Update event rating
        const eventRating = document.getElementById('eventRating');
        if (eventRating) {
            if (event.rating && event.rating > 0) {
                const stars = '★'.repeat(event.rating) + '☆'.repeat(5 - event.rating);
                eventRating.innerHTML = `Rating: ${stars} (${event.rating}/5)`;
            } else {
                eventRating.innerHTML = 'Rating: <img src="img/bg/star-p.png" alt="img">';
            }
            console.log('✓ Updated event rating');
        }

        // Update project info list with comprehensive data
        const projectInfo = document.getElementById('projectInfo');
        if (projectInfo) {
            const eventDate = event.date ? new Date(event.date).toLocaleDateString() : 'TBD';
            const eventTime = event.time ? ` - ${event.time}` : '';
            
            projectInfo.innerHTML = `
                <li><h5>Event Type</h5> <span>${event.event_type || 'Workshop'}</span></li>
                <li><h5>Organizer</h5> <span>${event.organizer || 'E-Cell Team'}</span></li>
                <li><h5>Category</h5> <span>${event.category || 'Entrepreneurship, Innovation'}</span></li>
                <li><h5>Date & Time</h5><span>${eventDate}${eventTime}</span></li>
                <li><h5>Venue</h5><span>${event.venue || event.location || 'TBD'}</span></li>
                <li><h5>Duration</h5><span>${event.duration || 'TBD'}</span></li>
            `;
            console.log('✓ Updated project info list');
        }

        // Update event image
        const eventImage = document.getElementById('eventImage');
        if (eventImage) {
            if (event.image) {
                eventImage.src = event.image;
                eventImage.alt = event.title;
            } else {
                eventImage.alt = event.title || 'Event Image';
            }
            console.log('✓ Updated event image');
        }
    }

    // Function to update event overview
    function updateEventOverview(event) {
        console.log('Updating event overview section with comprehensive data');
        
        // Update main overview content
        const overviewContent = document.getElementById('eventOverviewContent');
        if (overviewContent) {
            if (event.overview) {
                overviewContent.innerHTML = `<p>${event.overview}</p>`;
            } else {
                overviewContent.innerHTML = `<p>${event.description || 'Event overview will be updated soon.'}</p>`;
            }
            console.log('Updated overview content');
        }

        // Update learning description
        const learningDesc = document.getElementById('learningDescription');
        if (learningDesc) {
            if (event.learning_description) {
                learningDesc.innerHTML = `<p>${event.learning_description}</p>`;
            } else {
                learningDesc.innerHTML = `<p>Learning outcomes and benefits will be shared soon.</p>`;
            }
            console.log('Updated learning description');
        }

        // Update schedule description
        const scheduleDesc = document.getElementById('scheduleDescription');
        if (scheduleDesc) {
            if (event.schedule_description) {
                scheduleDesc.innerHTML = `<p>${event.schedule_description}</p>`;
            } else {
                scheduleDesc.innerHTML = `<p>Detailed schedule will be announced closer to the event date.</p>`;
            }
            console.log('Updated schedule description');
        }
    }

    // Function to update learning points with comprehensive data
    function updateLearningPoints(event) {
        console.log('Updating learning points section with comprehensive data');
        
        const leftColumn = document.getElementById('learningPointsLeft');
        const rightColumn = document.getElementById('learningPointsRight');
        
        if (!leftColumn || !rightColumn) {
            console.warn('Learning points columns not found');
            return;
        }
        
        // Clear existing content
        leftColumn.innerHTML = '';
        rightColumn.innerHTML = '';
        
        if (event.learning_points) {
            try {
                const learningPoints = JSON.parse(event.learning_points);
                
                if (learningPoints.length > 0) {
                    // Add learning points (3 per column)
                    learningPoints.forEach((point, index) => {
                        const li = document.createElement('li');
                        li.textContent = point;
                        
                        if (index < 3) {
                            leftColumn.appendChild(li);
                        } else if (index < 6) {
                            rightColumn.appendChild(li);
                        }
                    });
                    console.log('Updated learning points from database');
                } else {
                    // Show default learning points
                    leftColumn.innerHTML = `
                        <li>Business idea validation and market research</li>
                        <li>Creating compelling business plans</li>
                        <li>Understanding funding options and investor relations</li>
                    `;
                    rightColumn.innerHTML = `
                        <li>Digital marketing strategies for startups</li>
                        <li>Building and managing effective teams</li>
                        <li>Legal aspects of starting a business</li>
                    `;
                }
            } catch (error) {
                console.error('Error parsing learning points:', error);
                // Show default learning points on error
                leftColumn.innerHTML = `
                    <li>Business idea validation and market research</li>
                    <li>Creating compelling business plans</li>
                    <li>Understanding funding options and investor relations</li>
                `;
                rightColumn.innerHTML = `
                    <li>Digital marketing strategies for startups</li>
                    <li>Building and managing effective teams</li>
                    <li>Legal aspects of starting a business</li>
                `;
            }
        } else {
            // Show default learning points when no data
            leftColumn.innerHTML = `
                <li>Business idea validation and market research</li>
                <li>Creating compelling business plans</li>
                <li>Understanding funding options and investor relations</li>
            `;
            rightColumn.innerHTML = `
                <li>Digital marketing strategies for startups</li>
                <li>Building and managing effective teams</li>
                <li>Legal aspects of starting a business</li>
            `;
        }
    }

    // Function to update event schedule with comprehensive data
    function updateEventSchedule(event) {
        console.log('Updating event schedule section with comprehensive data');
        
        const leftColumn = document.getElementById('scheduleLeft');
        const rightColumn = document.getElementById('scheduleRight');
        
        if (!leftColumn || !rightColumn) {
            console.warn('Schedule columns not found');
            return;
        }
        
        // Clear existing content
        leftColumn.innerHTML = '';
        rightColumn.innerHTML = '';
        
        if (event.schedule) {
            try {
                const schedule = JSON.parse(event.schedule);
                
                if (schedule.length > 0) {
                    // Add schedule items (4 per column)
                    schedule.forEach((item, index) => {
                        const li = document.createElement('li');
                        li.textContent = item;
                        
                        if (index < 4) {
                            leftColumn.appendChild(li);
                        } else if (index < 8) {
                            rightColumn.appendChild(li);
                        }
                    });
                    console.log('Updated event schedule from database');
                } else {
                    // Show default schedule
                    leftColumn.innerHTML = `
                        <li>10:00 AM - Registration & Welcome Coffee</li>
                        <li>10:30 AM - Opening Keynote</li>
                        <li>11:30 AM - Workshop Session</li>
                        <li>12:30 PM - Panel Discussion</li>
                    `;
                    rightColumn.innerHTML = `
                        <li>1:30 PM - Networking Lunch</li>
                        <li>2:30 PM - Workshop Session</li>
                        <li>3:30 PM - Pitch Session</li>
                        <li>4:00 PM - Closing Remarks</li>
                    `;
                }
            } catch (error) {
                console.error('Error parsing schedule:', error);
                // Show default schedule on error
                leftColumn.innerHTML = `
                    <li>10:00 AM - Registration & Welcome Coffee</li>
                    <li>10:30 AM - Opening Keynote</li>
                    <li>11:30 AM - Workshop Session</li>
                    <li>12:30 PM - Panel Discussion</li>
                `;
                rightColumn.innerHTML = `
                    <li>1:30 PM - Networking Lunch</li>
                    <li>2:30 PM - Workshop Session</li>
                    <li>3:30 PM - Pitch Session</li>
                    <li>4:00 PM - Closing Remarks</li>
                `;
            }
        } else {
            // Show default schedule when no data
            leftColumn.innerHTML = `
                <li>10:00 AM - Registration & Welcome Coffee</li>
                <li>10:30 AM - Opening Keynote</li>
                <li>11:30 AM - Workshop Session</li>
                <li>12:30 PM - Panel Discussion</li>
            `;
            rightColumn.innerHTML = `
                <li>1:30 PM - Networking Lunch</li>
                <li>2:30 PM - Workshop Session</li>
                <li>3:30 PM - Pitch Session</li>
                <li>4:00 PM - Closing Remarks</li>
            `;
        }
    }

    // Function to update registration information with registration link
    function updateRegistrationInfo(event) {
        console.log('Updating registration info section with registration link');
        
        const registrationInfo = document.getElementById('registrationInfo');
        if (!registrationInfo) {
            console.warn('Registration info element not found');
            return;
        }

        // Simple registration info display
        let infoHTML = `
            <div style="margin: 10px;">
                <h5 style="color: #ffd700;">Registration</h5>
                <p>Click the "Register Now" button below to register for this event</p>
            </div>
        `;
        
        registrationInfo.innerHTML = infoHTML;
        console.log('Updated registration info');

        // Update registration note if available
        if (event.registration_note) {
            const registrationBox = document.getElementById('registrationBox');
            if (registrationBox) {
                // Remove existing note if present
                const existingNote = registrationBox.querySelector('.registration-note');
                if (existingNote) {
                    existingNote.remove();
                }
                
                // Create and add new note
                const noteDiv = document.createElement('div');
                noteDiv.className = 'registration-note';
                noteDiv.style.cssText = 'margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 10px; font-size: 14px;';
                noteDiv.innerHTML = `<strong>Note:</strong> ${event.registration_note}`;
                
                // Find the register button and insert note before it
                const registerButton = registrationBox.querySelector('.btn');
                if (registerButton) {
                    registrationBox.insertBefore(noteDiv, registerButton);
                } else {
                    // If no button found, just append to the box
                    registrationBox.appendChild(noteDiv);
                }
                console.log('Added registration note');
            }
        }

        // Update the Register Now button with the registration link
        const registerButton = document.querySelector('#registrationBox .btn');
        if (registerButton && event.registration_link) {
            registerButton.href = event.registration_link;
            registerButton.target = '_blank';
            registerButton.rel = 'noopener noreferrer';
            console.log('Updated register button with link:', event.registration_link);
        } else if (registerButton) {
            // Fallback to contact page if no registration link
            registerButton.href = 'contact.html';
            console.log('No registration link found, using contact page fallback');
        }
    }

    // Function to update event overview
    function updateEventOverview(event) {
        // Update main overview content
        const overviewContent = document.getElementById('eventOverviewContent');
        if (overviewContent) {
            if (event.overview) {
                overviewContent.innerHTML = `<p>${event.overview}</p>`;
            } else {
                overviewContent.innerHTML = `<p>${event.description || 'Event overview will be updated soon.'}</p>`;
            }
        }

        // Update learning description
        const learningDesc = document.getElementById('learningDescription');
        if (learningDesc) {
            if (event.learning_description) {
                learningDesc.innerHTML = `<p>${event.learning_description}</p>`;
            } else {
                learningDesc.innerHTML = `<p>Learning outcomes and benefits will be shared soon.</p>`;
            }
        }

        // Update schedule description
        const scheduleDesc = document.getElementById('scheduleDescription');
        if (scheduleDesc) {
            if (event.schedule_description) {
                scheduleDesc.innerHTML = `<p>${event.schedule_description}</p>`;
            } else {
                scheduleDesc.innerHTML = `<p>Detailed schedule will be announced closer to the event date.</p>`;
            }
        }
    }

    // Function to update learning points
    function updateLearningPoints(event) {
        const leftColumn = document.getElementById('learningPointsLeft');
        const rightColumn = document.getElementById('learningPointsRight');
        
        if (!leftColumn || !rightColumn) return;
        
        // Clear existing content
        leftColumn.innerHTML = '';
        rightColumn.innerHTML = '';
        
        if (event.learning_points) {
            try {
                const learningPoints = JSON.parse(event.learning_points);
                
                if (learningPoints.length > 0) {
                    // Add learning points (3 per column)
                    learningPoints.forEach((point, index) => {
                        const li = document.createElement('li');
                        li.textContent = point;
                        
                        if (index < 3) {
                            leftColumn.appendChild(li);
                        } else if (index < 6) {
                            rightColumn.appendChild(li);
                        }
                    });
                } else {
                    leftColumn.innerHTML = '<li>Learning points will be updated soon</li>';
                }
            } catch (error) {
                console.error('Error parsing learning points:', error);
                leftColumn.innerHTML = '<li>Learning points will be updated soon</li>';
            }
        } else {
            leftColumn.innerHTML = '<li>Learning points will be updated soon</li>';
        }
    }

    // Function to update event schedule
    function updateEventSchedule(event) {
        const leftColumn = document.getElementById('scheduleLeft');
        const rightColumn = document.getElementById('scheduleRight');
        
        if (!leftColumn || !rightColumn) return;
        
        // Clear existing content
        leftColumn.innerHTML = '';
        rightColumn.innerHTML = '';
        
        if (event.schedule) {
            try {
                const schedule = JSON.parse(event.schedule);
                
                if (schedule.length > 0) {
                    // Add schedule items (4 per column)
                    schedule.forEach((item, index) => {
                        const li = document.createElement('li');
                        li.textContent = item;
                        
                        if (index < 4) {
                            leftColumn.appendChild(li);
                        } else if (index < 8) {
                            rightColumn.appendChild(li);
                        }
                    });
                } else {
                    leftColumn.innerHTML = '<li>Schedule will be updated soon</li>';
                }
            } catch (error) {
                console.error('Error parsing schedule:', error);
                leftColumn.innerHTML = '<li>Schedule will be updated soon</li>';
            }
        } else {
            leftColumn.innerHTML = '<li>Schedule will be updated soon</li>';
        }
    }
    </script>
</body>

</html>